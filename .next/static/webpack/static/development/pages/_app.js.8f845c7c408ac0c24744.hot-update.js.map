{"version":3,"file":"static/webpack/static/development/pages/_app.js.8f845c7c408ac0c24744.hot-update.js","sources":["webpack:///./components/Cart.js","webpack:///./lib/calcTotalPrice.js"],"sourcesContent":["import React from \"react\";\nimport { Query, Mutation } from \"react-apollo\";\nimport gql from \"graphql-tag\";\nimport User from \"./User\";\nimport CartStyles from \"./styles/CartStyles\";\nimport Supreme from \"./styles/Supreme\";\nimport CloseButton from \"./styles/CloseButton\";\nimport SickButton from \"./styles/SickButton\";\nimport CartItem from \"./CartItem\";\nimport calcTotalPrice from \"../lib/calcTotalPrice\";\n\nconst LOCAL_STATE_QUERY = gql`\n  query {\n    # the @client lets apollo know not to go to the server. but\n    # query our apollo store in withData.js\n    cartOpen @client\n  }\n`;\n\nconst TOGGLE_CART_MUTATION = gql`\n  mutation {\n    toggleCart @client\n  }\n`;\n\nconst Cart = () => (\n  <User>\n    {({ data: { me } }) => {\n      if (!me) return null;\n      console.log(me);\n      return (\n        <Mutation mutation={TOGGLE_CART_MUTATION}>\n          {(toggleCart) => (\n            <Query query={LOCAL_STATE_QUERY}>\n              {({ data }) => (\n                <CartStyles open={data.cartOpen}>\n                  <header>\n                    <CloseButton title=\"close\" onClick={toggleCart}>\n                      {\" \"}\n                      &times;{\" \"}\n                    </CloseButton>\n                    <Supreme>{me.name}'s Cart</Supreme>\n                    <p>\n                      You Have {me.cart.length} item\n                      {me.cart.length === 1 ? \"\" : \"s\"} in your cart.\n                    </p>\n                  </header>\n                  <ul>\n                    {me.cart.map((cartItem) => (\n                      <CartItem key={cartItem.id} cartItem={cartItem} />\n                    ))}\n                  </ul>\n                  <footer>\n                    <p>{calcTotalPrice(me.cart)}</p>\n                    <SickButton>Checkout</SickButton>\n                  </footer>\n                </CartStyles>\n              )}\n            </Query>\n          )}\n        </Mutation>\n      );\n    }}\n  </User>\n);\n\nexport default Cart;\nexport { LOCAL_STATE_QUERY, TOGGLE_CART_MUTATION };\n","export default function calcTotalPrice(cart) {\n  return cart.reduce((tally, cartItem) => {\n    if (!cartItem.item) return tally;\n    return tally + cartItem.quantity * cartItem.item.price;\n  }, 0);\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAQA;AACA;AAKA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AApBA;AAFA;AA8BA;AArCA;AACA;AAwCA;;;;;;;;;;;;;AClEA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;;;;A","sourceRoot":""}