{"version":3,"file":"static/webpack/static/development/pages/reset.js.8c8f3adc6d078509b4ab.hot-update.js","sources":["webpack:///./components/Reset.js"],"sourcesContent":["import React, { Component } from \"react\";\nimport { Mutation } from \"react-apollo\";\nimport gql from \"graphql-tag\";\nimport PropTypes from \"prop-types\";\nimport Form from \"./styles/Form\";\nimport Error from \"./ErrorMessage\";\n\nconst RESET_MUTATION = gql`\n  mutation RESET_MUTATION(\n    $resetToken: String!\n    $password: String!\n    $confirmPassword: String!\n  ) {\n    resetPassword(\n      resetToken: $resetToken\n      password: $password\n      confirmPassword: $confirmPassword\n    ) {\n      id\n      email\n      name\n    }\n  }\n`;\n\nclass RequestReset extends Component {\n  static propTypes = {\n    resetToken: PropTypes.string.isRequired,\n  };\n  state = {\n    password: \"\",\n    confirmPassword: \"\",\n  };\n\n  saveToState = (e) => {\n    this.setState({ [e.target.name]: e.target.value });\n  };\n\n  render() {\n    return (\n      <Mutation\n        mutation={RESET_MUTATION}\n        variables={{\n          resetToken: this.props.resetToken,\n          password: this.state.password,\n          confirmPassword: this.state.confirmPassword,\n        }}\n      >\n        {(reset, { error, loading, called }) => {\n          return (\n            // We are explicitly setting this to post, just in case an error occurs, we do not\n            //  the values of the form, which includes the password, to show on the URL.\n            <Form\n              method=\"post\"\n              onSubmit={async (e) => {\n                e.preventDefault();\n                await reset();\n                this.setState({\n                  password: \"\",\n                  confirmPassword: \"\",\n                });\n              }}\n            >\n              <fieldset disabled={loading} aria-busy={loading}>\n                <h2>Reset your password</h2>\n                <Error error={error} />\n\n                <label htmlFor=\"password\">\n                  Password\n                  <input\n                    type=\"password\"\n                    name=\"password\"\n                    placeholder=\"password\"\n                    value={this.state.password}\n                    onChange={this.saveToState}\n                  />\n                </label>\n                <label htmlFor=\"confirmPassword\">\n                  Confirm Password\n                  <input\n                    type=\"password\"\n                    name=\"confirmPassword\"\n                    placeholder=\"confirmPassword\"\n                    value={this.state.confirmPassword}\n                    onChange={this.saveToState}\n                  />\n                </label>\n\n                <button type=\"submit\">Reset Password</button>\n              </fieldset>\n            </Form>\n          );\n        }}\n      </Mutation>\n    );\n  }\n}\n\nexport default RequestReset;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAiBA;;;;;;;;;;;;;;;;;;AAIA;AACA;AACA;AAFA;AACA;AAIA;AACA;AACA;AACA;;;;;;AACA;AAAA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAHA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAGA;AACA;AACA;AAFA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAWA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAvCA;AA2CA;AAGA;;;;AAtEA;AACA;AADA;AAEA;AADA;AACA;AAuEA;;;;A","sourceRoot":""}